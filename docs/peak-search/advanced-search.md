# Advanced Search
Advanced search enables the user to find metabolites trough the m/z or the neutral mass including some extra query parameters that are not available in the simple search. 
![CMM_advanced_search_form](/images/advanced_search_form.jpg)
1. Experimental Mass (EM): Mass to search in CMM (Da).
2. Tolerance: Tolerance allowed for the putative annotations regarding the EM (ppm or mDa).
3. Retention Time (RT): Amount of time spent by a compound on the column after it has been injected. It is an integer or a real number. The units used do not matter since it is used for checking relations between different putative annotations.
4. Composite Spectrum (CS): Spectrum created by summation of all co-eluting m/z ions that are related, including isotopes, adducts and dimmers. It is used by CMM to calculate relations between them and automatically find which adduct corresponds to the peak, when more than one adduct is present in the CS; i.e., to calculate which is the mass of the original molecule whose alterations have given rise to the observed CS.
5. Chemical Alphabet: Possible elements of the putative annotations. CHNOPS (carbon, hydrogen, nitrogen, oxygen, phosphorus, sulphur), CHNOPS + Cl (chlorum), all elements. Compounds with deuterium can be filtered or added.
6. Modifiers: Mobile phase modifier used. Depending on this modifier, the adduct formation may change. They are considered in the [adduct formation rules](annotations-rules.md)).
7. Databases: The putative annotations should be present in the databases chosen by the user (Kegg, HMDB, LipidMaps, Metlin and/or MINE).
8. Metabolites: Metabolite types to search. The user can filter the results based on the metabolite type. It may be used for excluding peptides, look only into lipids or perform a query over all type of metabolites.
9. Masses mode: The user introduces the EM in neutral or m/z mode. If the user is working with neutral masses, CMM performs searches over positive or negative mode based on the hypothesis of the neutral mass calculated as [M-H]- or [M+H]+. That means that the EM will correspond to the m/z obtained in the mass spectrometer with the addition or subtraction of the mass of the hydrogen (H). 
10. Ionization mode: The user wants to perform searches over a mass obtained in positive or negative mode. Depending on the ionization mode, the possible adducts formed differ. 
11. Adducts: The possible adducts formed when running the experiment. The user may choose between different adducts in negative or positive mode.  All the possible alterations of the mass of the original metabolite (M) given by the selected adducts will be searched by CMM. The list of possible adducts in negative and positive modes are described in [Adducts section](adducts.md). 
The knowledge that may be applied in advanced search corresponds to the ionization rules. Depending on the metabolite type, some adducts are expected to be formed, some others are possibly present, and some others are not expected to appear. However, the rules about adduct formation and lipid elution time cannot be applied since they are based in the relations between different peaks, and advanced search only accepts one peak (see [Annotation rules](annotations-rules.md)).
